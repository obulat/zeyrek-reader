(this["webpackJsonpzeyrek-reader"]=this["webpackJsonpzeyrek-reader"]||[]).push([[0],{75:function(e,t,n){},76:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),s=n(9),i=n.n(s),o=(n(75),n(22)),l=n(11),u=(n(76),n(16)),j=n(24),d=(n(77),{apiKey:"AIzaSyD9hw4V-L53VDKL2mxNMuYjylrQOX5JMb4",authDomain:"zeyrek-read.firebaseapp.com",databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/zeyrek-reader",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APP_ID:"1:412850691571:web:b01893d5d0a4c0649c8686",REACT_APP_FIREBASE_DOMAIN:"zeyrek-read.firebaseapp.com",REACT_APP_FIREBASE_KEY:"AIzaSyD9hw4V-L53VDKL2mxNMuYjylrQOX5JMb4",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-3ZHS0C2S8L",REACT_APP_FIREBASE_PROJECT_ID:"zeyrek-read",REACT_APP_FIREBASE_SENDER_ID:"412850691571",REACT_APP_FIREBASE_STORAGE_BUCKET:"zeyrek-read.appspot.com"}).REACT_APP_FIREBASE_DATABASE,projectId:"zeyrek-read",storageBucket:"zeyrek-read.appspot.com",messagingSenderId:"412850691571"});j.a.initializeApp(d);var b=r.createContext({});function p(e){var t=e.children,n=function(){var e=r.useState(null),t=Object(u.a)(e,2),n=t[0],a=t[1],c=new j.a.auth.GoogleAuthProvider;c.addScope("profile"),c.addScope("email"),c.setCustomParameters({prompt:"select_account"});var s=function(){return j.a.auth().signInWithPopup(c).then((function(e){return a(e.user),e.user}))},i=function(e,t){return j.a.auth().signInWithEmailAndPassword(e,t).then((function(e){a(e.user)}))},o=function(e,t){return j.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){a(e.user)}))},l=function(e){return j.a.auth().sendPasswordResetEmail(e).then((function(){return!0}))},d=function(e,t){return j.a.auth().confirmPasswordReset(e,t).then((function(){return!0}))},b=function(){j.a.auth().signOut().then((function(){a(null)}))};return r.useEffect((function(){var e=j.a.auth().onAuthStateChanged((function(e){a(e||null)}));return function(){return e()}}),[]),{user:n,login:i,loginG:s,signup:o,logout:b,sendPasswordResetEmail:l,confirmPasswordReset:d}}();return Object(a.jsx)(b.Provider,{value:n,children:t})}function h(){return r.useContext(b)}function m(e){var t=e.lookupHistory;return Object(a.jsx)("div",{className:"history",children:Object(a.jsxs)("details",{children:[Object(a.jsx)("summary",{children:"Words you've looked up"}),Object(a.jsx)("p",{className:"words",children:Object.keys(t).map((function(e){return Object(a.jsxs)("span",{children:[e,": ",t[e]]},e)}))})]})})}var O=function(){var e=h();function t(){var e=localStorage.getItem("lookupHistory");if(e)return JSON.parse(e)}var n=t();return Object(a.jsxs)("div",{className:"db__container",children:[Object(a.jsx)("div",{style:{background:"url(".concat(e.user.photoURL,")  no-repeat center center")},className:"db__avatar"}),Object(a.jsx)("h2",{className:"db__username",children:e.user.displayName}),Object(a.jsx)("h3",{className:"db__email",children:e.user.email}),n&&Object(a.jsx)(m,{lookupHistory:t()})]})},x=n(37),f=n(29);function v(e){var t=e.definitions;return Object(a.jsx)("div",{className:"definitions",children:t.meanings.map((function(e,t){return Object(a.jsx)(c.a.Fragment,{children:Object.keys(e).map((function(t,n){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("p",{className:"definition-term",children:t}),Object(a.jsx)("ol",{children:e[t].map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("span",{className:"pos",children:e.pos}),Object(a.jsx)("span",{className:"definition-text",children:e.meaning})]},e.id)}))})]},n)}))},t)}))})}var g="K\xdcRK MANTOLU MADONNA\n\u015eimdiye kadar tesad\xfcf etti\u011fim insanlardan bir tanesi benim \xfczerimde belki en b\xfcy\xfck tesiri yapm\u0131\u015ft\u0131r. Aradan aylar ge\xe7ti\u011fi halde bir t\xfcrl\xfc bu tesirden kurtulamad\u0131m. Ne zaman kendimle ba\u015f ba\u015fa kalsam, Raif efendinin saf y\xfcz\xfc, biraz d\xfcnyadan uzak, buna ra\u011fmen bir insana tesad\xfcf ettikleri zaman tebess\xfcm etmek isteyen bak\u0131\u015flar\u0131 g\xf6zlerimin \xf6n\xfcnde canlan\u0131yor.\n",y=r.createContext({});function N(e){var t=e.children,n=function(){var e=r.useState(g),t=Object(u.a)(e,2),n=t[0],a=t[1],c=r.useState("default"),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)([]),j=Object(u.a)(l,2),d=j[0],b=j[1];function p(e){o("user"),a(e)}return Object(r.useEffect)((function(){var e=localStorage.getItem("".concat(i,"-text"));"default"==i&&e?b(JSON.parse(e)):fetch("https://serene-lake-52519.herokuapp.com/annotate_text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n})}).then((function(e){return e.json()})).then((function(e){b(e),localStorage.setItem("".concat(i,"-text"),JSON.stringify(e))}))}),[n]),{text:n,uploadText:p,textData:d}}();return Object(a.jsx)(y.Provider,{value:n,children:t})}function L(){return r.useContext(y)}var E=function(e){var t=e.readerRef,n=L().textData,s=Object(r.useState)(null),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(r.useState)(null),d=Object(u.a)(j,2),b=d[0],p=d[1],h=Object(r.useState)({}),m=Object(u.a)(h,2),O=m[0],g=m[1];return c.a.useEffect((function(){if(o){var e,t=o;e=t.word in O?Object(f.a)(Object(f.a)({},O),{},Object(x.a)({},t.word,O[t.word]+1)):Object(f.a)(Object(f.a)({},O),{},Object(x.a)({},t.word,1)),g(e),localStorage.setItem("lookupHistory",JSON.stringify(e))}}),[b]),Object(a.jsxs)("section",{className:"reader",ref:t,children:[Object(a.jsx)("div",{className:"text-container",children:Object(a.jsx)("div",{className:"text",children:n&&n.map((function(e,t){return Object(a.jsx)("p",{children:e&&e.map((function(e){var r,c="".concat(t,"-").concat(e.id);return b===c?Object(a.jsx)("span",{className:"span-".concat(c," active"),children:e.word},e.id):Object(a.jsx)("span",{className:"span-".concat(t,"-").concat(e.id).concat((r=e.word,[".",",","!"].includes(r)?" punctuation":"")),onClick:function(){return function(e,t,a){if(p(a),n){var r=n[e][t-1];l(r)}}(t,e.id,"".concat(t,"-").concat(e.id))},children:e.word},e.id)}))},t)}))})}),o&&Object(a.jsx)(v,{definitions:o})]})};var S=function(){var e=h(),t=Object(r.useRef)(null);return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("main",{className:"content",children:[e.user?null:Object(a.jsxs)("section",{className:"hero-section",children:[Object(a.jsx)("h1",{className:"hero-heading",children:"Learn Turkish by reading"}),Object(a.jsxs)("div",{className:"hero-text",children:[Object(a.jsx)("p",{children:"Enjoy reading about anything you like in Turkish."}),Object(a.jsx)("p",{children:"Look up any word instantly, memorize words you looked up by adding them to your flashcard program. Learning in context is great for vocabulary retention!"})]}),Object(a.jsx)("button",{type:"button",className:"cta-button",onClick:function(){null!==t.current&&t.current.scrollIntoView(!0)},children:"Read in Turkish now!"})]}),Object(a.jsx)(E,{readerRef:t})]})})};var _=function(){var e=h(),t=e.user,n=e.login,c=e.loginG,s=Object(r.useRef)(null),i=Object(r.useRef)(null);return t?Object(a.jsx)(l.a,{to:"/"}):Object(a.jsxs)("div",{className:"auth-container",children:[Object(a.jsx)("p",{children:" Please login "}),Object(a.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault();var t=s.current,a=i.current;if(t&&a){var r=t.value,c=a.value;null===n||void 0===n||n(r,c)}},children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("span",{children:"Email:"}),Object(a.jsx)("input",{type:"email",placeholder:"user@email.com",ref:s,required:!0})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("span",{children:"Password:"}),Object(a.jsx)("input",{type:"password",ref:i,required:!0})]}),Object(a.jsx)("button",{className:"button",type:"submit",children:"Login"})]}),Object(a.jsx)("p",{className:"sep",children:Object(a.jsx)("span",{className:"sep-text",children:"or "})}),Object(a.jsx)("button",{className:"button",onClick:c,children:"Login with Google"})]})},P=function(){var e=h(),t=Object(r.useRef)(null),n=Object(r.useRef)(null);return e.user?Object(a.jsx)(l.a,{to:"/"}):Object(a.jsxs)("div",{className:"auth-container",children:[Object(a.jsx)("p",{children:" Please signup "}),Object(a.jsxs)("form",{className:"auth-form",onSubmit:function(a){a.preventDefault();var r=t.current,c=n.current,s=r.value,i=c.value;e.signup(s,i)},children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("span",{children:"Email:"}),Object(a.jsx)("input",{type:"email",placeholder:"user@email.com",ref:t,required:!0})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("span",{children:"Password:"}),Object(a.jsx)("input",{type:"password",ref:n,required:!0})]}),Object(a.jsx)("button",{className:"button",type:"submit",children:"Signup"})]}),Object(a.jsx)("p",{className:"sep",children:Object(a.jsx)("span",{className:"sep-text",children:"or "})}),Object(a.jsx)("button",{className:"button",type:"button",onClick:e.loginG,children:"Sign up with Google"})]})},A=n(118),k=n(116);var R=function(){var e=Object(r.useRef)(null),t=L().uploadText,n=Object(r.useState)(!1),c=Object(u.a)(n,2),s=c[0],i=c[1];return s?Object(a.jsx)(l.a,{to:"/"}):Object(a.jsxs)("form",{className:"upload-form",onSubmit:function(e){e.preventDefault();var n=e.target.getElementsByTagName("textarea")[0].value;t&&(t(n),i(!0))},children:[Object(a.jsx)(A.a,{id:"user-text",label:"Your text",multiline:!0,rows:10,ref:e,placeholder:"Paste your text here",variant:"outlined"}),Object(a.jsx)(k.a,{color:"primary",variant:"contained",type:"submit",className:"upload-button",children:"Load Text"})]})};var w=[{path:"/login",component:_,isPrivate:!1},{path:"/signup",component:P,isPrivate:!1},{path:"/dashboard",component:O,isPrivate:!0},{path:"/new_text",component:function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("main",{className:"content",children:Object(a.jsx)("section",{className:"reader",children:Object(a.jsx)("div",{className:"text-container",children:Object(a.jsx)(R,{})})})})})},isPrivate:!0},{path:"/",component:S,isPrivate:!1}],C=n(62),T=function(e){var t=e.component,n=e.path,r=e.isPrivate,c=Object(C.a)(e,["component","path","isPrivate"]),s=h();return Object(a.jsx)(l.b,Object(f.a)({path:n,render:function(e){return function(e,n){return e&&!Boolean(s.user)?Object(a.jsx)(l.a,{to:{pathname:"/login"}}):Object(a.jsx)(t,Object(f.a)({},n))}(r,e)}},c))},H=n(61),I=n(119);var D=function(){var e=h(),t=c.a.useState(null),n=Object(u.a)(t,2),r=n[0],s=n[1];return Object(a.jsx)("header",{className:"App-header",children:Object(a.jsxs)("nav",{className:"navbar",children:[Object(a.jsxs)("a",{className:"logo",href:"/",children:[Object(a.jsxs)("svg",{className:"logo-img",viewBox:"0 0 96 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:30,height:30,children:[Object(a.jsx)("path",{d:"M46.6972 25.3508H46.4086H25.7393L36.0909 7.4212H60.5168L70.8684 25.3508H50.0493H49.7606H46.6972ZM49.7606 81.5H50.0493H78.5376H78.8263L78.9706 81.25L94.8908 53.6754L95.0352 53.4254L94.8908 53.1754L80.7046 28.6041L80.7216 28.5746L80.5773 28.3246L64.6571 0.75L64.5127 0.5H64.224H32.3837H32.095L31.9506 0.75L17.7473 25.3508H17.6315L17.4872 25.6008L1.56699 53.1754L1.42265 53.4254L1.56699 53.6754L17.4872 81.25L17.6315 81.5H17.9202H46.4086H46.6972H49.7606ZM9.41457 53.4254L19.8242 35.3955L30.2167 53.3959L30.1997 53.4254L30.344 53.6754L42.4126 74.5788H21.6275L9.41457 53.4254ZM74.8304 74.5788H54.0452L64.3969 56.6492H64.5127L64.6571 56.3992L76.7086 35.5253L87.0433 53.4254L74.8304 74.5788ZM54.0452 32.272H70.5949L62.3201 46.6045L54.0452 32.272ZM26.0128 32.272H42.4126L34.2127 46.4747L26.0128 32.272ZM48.2289 70.8105L40.0528 56.6492H56.405L48.2289 70.8105ZM40.3263 49.728L48.2289 36.0403L56.1315 49.728H40.3263Z",fill:"url(#paint0_linear)",stroke:"#1BCB81"}),Object(a.jsx)("defs",{children:Object(a.jsxs)("linearGradient",{id:"paint0_linear",x1:"18.5",y1:"11",x2:"101",y2:"64.5",gradientUnits:"userSpaceOnUse",children:[Object(a.jsx)("stop",{stopColor:"#0DEDFC",stopOpacity:"0.35"}),Object(a.jsx)("stop",{offset:"1",stopColor:"#3E9EA4",stopOpacity:"0.81"}),Object(a.jsx)("stop",{offset:"1",stopColor:"#28A9B1",stopOpacity:"0.96"})]})})]}),"Zeyrek read"]}),Object(a.jsx)("div",{className:"menu",children:e.user?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.a,{color:"primary",variant:"outlined",component:o.b,to:"/new_text/",children:"+ NEW TEXT"}),Object(a.jsxs)(k.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){var t=e.currentTarget;s(t)},children:[Object(a.jsx)("img",{width:30,height:30,src:e.user.photoURL?e.user.photoURL:void 0,alt:"user avatar",className:"user__avatar"}),Object(a.jsx)("span",{className:"user__name",children:e.user.displayName})]}),Object(a.jsxs)(H.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){s(null)},children:[Object(a.jsx)(I.a,{component:o.b,to:"/Dashboard",children:"Profile"}),Object(a.jsx)(I.a,{onClick:e.logout,children:"Logout"})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(o.b,{to:"/login",className:"button login-button",children:"Log In"}),Object(a.jsx)(o.b,{to:"/signup",className:"button signup-button",children:"Sign Up"})]})})]})})},B=n(60),z=n(117);var F=function(){var e=Object(B.a)({palette:{primary:{main:"#44c2ca",contrastText:"#ffffff"}}});return Object(a.jsx)(z.a,{theme:e,children:Object(a.jsx)(p,{children:Object(a.jsx)(N,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(D,{}),Object(a.jsx)(l.d,{children:w.map((function(e){return Object(a.jsx)(T,{path:e.path,component:e.component,isPrivate:e.isPrivate},e.path)}))})]})})})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root")),M()}},[[84,1,2]]]);
//# sourceMappingURL=main.0c3a9999.chunk.js.map